<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wagner Letters</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Wagner Letters</h1>
        <ul id="pdf-list"></ul>
    </div>

    <script>
        // Function to toggle visibility of PDF links
        function togglePDFs(monthIndex) {
            const pdfsElement = document.getElementById(`pdfs-${monthIndex}`);
            pdfsElement.style.display = pdfsElement.style.display === 'block' ? 'none' : 'block';
        }

        // Function to create HTML elements for each month and its PDF links
        function createMonthElements(jsonData) {
            const container = document.getElementById('pdf-list');
            jsonData.forEach((monthData, index) => {
                const monthElement = document.createElement('div');
                monthElement.classList.add('month');
                monthElement.textContent = monthData.month;
                monthElement.addEventListener('click', () => togglePDFs(index));
                container.appendChild(monthElement);

                const pdfsElement = document.createElement('div');
                pdfsElement.classList.add('pdfs');
                pdfsElement.id = `pdfs-${index}`;
                monthData.pdfs.forEach(pdf => {
                    const pdfLink = document.createElement('a');
                    pdfLink.href = pdf;
                    pdfLink.textContent = pdf;
                    pdfLink.classList.add('pdf-link');
                    pdfsElement.appendChild(pdfLink);
                });
                container.appendChild(pdfsElement);
            });
        }

        document.addEventListener("DOMContentLoaded", () => {
            fetch('pdf_list.json')
                .then(response => response.json())
                .then(data => {
                    createMonthElements(data);
                    // const pdfList = document.getElementById('pdf-list');
                    // data.pdfs.forEach(file => {
                    //     const listItem = document.createElement('li');
                    //     const link = document.createElement('a');
                    //     link.href = `letters/${file}`;
                    //     link.textContent = file;
                    //     link.target = "_blank"; // Opens the PDF in a new tab
                    //     listItem.appendChild(link);
                    //     pdfList.appendChild(listItem);
                    // });
                })
                .catch(error => {
                    console.error('Error fetching the PDF list:', error);
                });
        });
    </script>
</body>
</html>
